// Minimal Cordova.js for development
// This file is normally generated by Cordova CLI

(function() {
    'use strict';
    
    // Global cordova object
    window.cordova = {
        version: '11.0.0',
        platform: 'browser',
        platformId: 'browser'
    };
    
    // Device ready event
    var deviceReady = false;
    var deviceReadyCallbacks = [];
    
    // Trigger device ready
    function triggerDeviceReady() {
        if (deviceReady) return;
        deviceReady = true;
        
        // Call all registered callbacks
        deviceReadyCallbacks.forEach(function(callback) {
            try {
                callback();
            } catch (e) {
                console.error('Error in deviceready callback:', e);
            }
        });
    }
    
    // Add event listener for deviceready
    document.addEventListener = function(event, callback) {
        if (event === 'deviceready') {
            if (deviceReady) {
                // If already ready, call immediately
                setTimeout(callback, 0);
            } else {
                // Add to callbacks
                deviceReadyCallbacks.push(callback);
            }
        } else {
            // Call original addEventListener for other events
            return HTMLElement.prototype.addEventListener.call(this, event, callback);
        }
    };
    
    // Trigger device ready after a short delay to simulate Cordova behavior
    setTimeout(triggerDeviceReady, 100);
    
    // Basic plugins simulation
    window.plugins = {};
    
    // Console plugin simulation
    window.plugins.console = {
        log: function(message) {
            console.log('[Cordova]', message);
        },
        error: function(message) {
            console.error('[Cordova]', message);
        }
    };
    
    // Device plugin simulation
    window.device = {
        platform: 'browser',
        version: '1.0.0',
        uuid: 'browser-device-id',
        model: 'Browser',
        manufacturer: 'Browser'
    };
    
    console.log('Cordova.js loaded (development mode)');
})(); 